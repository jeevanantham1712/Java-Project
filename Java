import java.util.*;

// ========== CLASS: COURSE ==========
class Course {
    private String courseId;
    private String courseName;

    public Course(String courseId, String courseName){
        this.courseId = courseId;
        this.courseName = courseName;
    }

    public String getCourseId(){ return courseId; }
    public String getCourseName(){ return courseName; }

    @Override
    public String toString(){
        return courseId + " - " + courseName;
    }
}

// ========== CLASS: STUDENT ==========
class Student {
    private int studentId;
    private String studentName;
    private ArrayList<Course> registeredCourses;

    public Student(int studentId, String studentName){
        this.studentId = studentId;
        this.studentName = studentName;
        this.registeredCourses = new ArrayList<>();
    }

    public int getStudentId(){ return studentId; }
    public String getStudentName(){ return studentName; }

    public void registerCourse(Course course){
        registeredCourses.add(course);
        System.out.println("Course registered successfully!");
    }

    public void showRegisteredCourses(){
        if(registeredCourses.isEmpty()){
            System.out.println("No courses registered yet.");
            return;
        }

        System.out.println("Courses registered by " + studentName + ":");
        for(Course c : registeredCourses){
            System.out.println(" - " + c);
        }
    }
}

// ========== MAIN SYSTEM ==========
public class StudentCourseRegistration {

    public static void main(String[] args) {

        Scanner sc = new Scanner(System.in);

        // Predefined Courses
        ArrayList<Course> courses = new ArrayList<>();
        courses.add(new Course("C101", "Java Programming"));
        courses.add(new Course("C102", "Python Programming"));
        courses.add(new Course("C103", "Database Management"));
        courses.add(new Course("C104", "Web Development"));

        // Student Database
        HashMap<Integer, Student> studentData = new HashMap<>();

        while(true){
            System.out.println("\n===== Student Course Registration System =====");
            System.out.println("1. Add Student");
            System.out.println("2. Show Available Courses");
            System.out.println("3. Register Course for Student");
            System.out.println("4. Show Student Details");
            System.out.println("5. Exit");

            System.out.print("Enter your choice: ");
            int choice = sc.nextInt();

            switch(choice){

                case 1:
                    System.out.print("Enter Student ID: ");
                    int id = sc.nextInt();
                    sc.nextLine();

                    System.out.print("Enter Student Name: ");
                    String name = sc.nextLine();

                    studentData.put(id, new Student(id, name));
                    System.out.println("Student Added Successfully!");
                    break;

                case 2:
                    System.out.println("Available Courses:");
                    for(Course c : courses){
                        System.out.println(c);
                    }
                    break;

                case 3:
                    System.out.print("Enter Student ID: ");
                    int sId = sc.nextInt();

                    if(!studentData.containsKey(sId)){
                        System.out.println("Student not found!");
                        break;
                    }

                    Student stu = studentData.get(sId);

                    System.out.println("Available Courses:");
                    for(int i=0; i<courses.size(); i++){
                        System.out.println((i+1) + ". " + courses.get(i));
                    }

                    System.out.print("Select Course Number: ");
                    int cNum = sc.nextInt();

                    if(cNum < 1 || cNum > courses.size()){
                        System.out.println("Invalid Choice!");
                    } 
                    else {
                        stu.registerCourse(courses.get(cNum - 1));
                    }
                    break;

                case 4:
                    System.out.print("Enter Student ID: ");
                    int stId = sc.nextInt();

                    if(!studentData.containsKey(stId)){
                        System.out.println("Student not found!");
                    } 
                    else {
                        Student s = studentData.get(stId);
                        System.out.println("\nStudent Name: " + s.getStudentName());
                        s.showRegisteredCourses();
                    }
                    break;

                case 5:
                    System.out.println("Thank you! Exiting...");
                    sc.close();
                    return;

                default:
                    System.out.println("Invalid choice! Try again.");
            }
        }
    }
}
